<!doctype html><html lang=en><head><title>hello, cloud native hugo blog! ::
always up, always on</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Update on 2020-08-07 where I transitioned from Azure to GCP for both build and host my blog.
My new blog is here! The old one was there on Blogger.
I just migrated my old articles to this new one by doing a &amp;ldquo;purge&amp;rdquo;, meaning by removing some articles and just keeping the most important ones with the more value for the readers according to my focus: Open Source, Containers, DevOps, Cloud, Security and Kubernetes."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://mathieu-benoit.github.io/posts/2020/05/myblog/><link rel=stylesheet href=https://mathieu-benoit.github.io/assets/style.css><link rel=stylesheet href=https://mathieu-benoit.github.io/style.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=https://mathieu-benoit.github.io/img/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=https://mathieu-benoit.github.io/img/favicon.png><link href=https://mathieu-benoit.github.io/assets/fonts/Inter-Italic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://mathieu-benoit.github.io/assets/fonts/Inter-Regular.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://mathieu-benoit.github.io/assets/fonts/Inter-Medium.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://mathieu-benoit.github.io/assets/fonts/Inter-MediumItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://mathieu-benoit.github.io/assets/fonts/Inter-Bold.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://mathieu-benoit.github.io/assets/fonts/Inter-BoldItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><meta name=twitter:card content="summary"><meta name=twitter:title content="hello, cloud native hugo blog!"><meta name=twitter:description content="let's discuss why my new blog is a containerized hugo website hosted on kubernetes"><meta property="og:title" content="hello, cloud native hugo blog!"><meta property="og:description" content="let's discuss why my new blog is a containerized hugo website hosted on kubernetes"><meta property="og:type" content="article"><meta property="og:url" content="https://mathieu-benoit.github.io/posts/2020/05/myblog/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-05-15T00:00:00+00:00"><meta property="article:modified_time" content="2020-05-15T00:00:00+00:00"><meta property="og:site_name" content="always up, always on"><script async src="https://www.googletagmanager.com/gtag/js?id=G-J8536XT21V"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-J8536XT21V",{anonymize_ip:!1})}</script></head><body class=dark-theme><div class=container><header class=header><span class=header__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span><span class=logo__text>always up, always on</span>
<span class=logo__cursor></span></a>
<span class=header__right><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/about/>about</a></li><li><a href=/presentations/>presentations</a></li><li><a href=/tags/>tags</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/about/>about</a></li><li><a href=/presentations/>presentations</a></li><li><a href=/tags/>tags</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class=theme-toggle><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><div class=post><h1 class=post-title>hello, cloud native hugo blog!</h1><div class=post-meta><span class=post-date>2020-05-15</span></div><span class=post-tags><a href=https://mathieu-benoit.github.io/tags/containers/>#containers</a>&nbsp;
<a href=https://mathieu-benoit.github.io/tags/gcp/>#gcp</a>&nbsp;
<a href=https://mathieu-benoit.github.io/tags/kubernetes/>#kubernetes</a>&nbsp;
<a href=https://mathieu-benoit.github.io/tags/security/>#security</a>&nbsp;</span><div class=post-content><p><em>Update on 2020-08-07 where I transitioned from Azure to GCP for both build and host my blog.</em></p><p>My new blog is <a href=https://alwaysupalwayson.com>here</a>! The old one was <a href=https://alwaysupalwayson.blogspot.com>there on Blogger</a>.</p><p>I just migrated my old articles to this new one by doing a &ldquo;purge&rdquo;, meaning by removing some articles and just keeping the most important ones with the more value for the readers according to my focus: Open Source, Containers, DevOps, Cloud, Security and Kubernetes.</p><p>Blogger was fine for me, great helper to write, publish and host my blog articles. But I decided to move to a new self-hosted way as an opportunity for me to learn more:</p><ul><li><a href=https://gohugo.io>Hugo website</a> - I love the light and geeky way of writting Markdown files, Everything-as-Code!</li><li>Container - I leverage the agile way to containerize my Hugo website to deploy it anywhere; from my local environment for dev/test to Kubernetes for my Production environment.</li><li>Kubernetes - yet another app I want to deploy in my Kubernetes cluster to get more experiences with this.</li></ul><p>For sure I lost on-purpose few features like comments and analytics/statistics on my blog articles&mldr; but to be honest I was not using them that much. So I made a choice here to not have yet equivalent to those features but that something I could implement in the future.</p><p>So yes, I just wanted to make it Cloud Native by leveraging different concepts you could look at, directly in its public GitHub repository: <a href=https://github.com/mathieu-benoit/myblog>https://github.com/mathieu-benoit/myblog</a>:</p><ul><li>Docker - see <a href=https://github.com/mathieu-benoit/myblog/blob/main/Dockerfile><code>Dockerfile</code></a>: multi-stages to build the container and generate an unprivileged container</li><li>Cloud Build - see <a href=https://github.com/mathieu-benoit/myblog/blob/main/cloudbuild.yaml><code>cloudbuild.yaml</code></a>: build the container, run security scan on it before pushing it in artifact registry</li><li>GitHub Dependabot - see <a href=https://github.com/mathieu-benoit/myblog/blob/main/.github/dependabot.yml><code>dependabot.yml</code></a>: keep up-to-date the hugo theme git submodule and the docker base images</li></ul><p>That is for the Continuous Integration (CI) part, for the Continuous Deployment (CD) part I opted in for a GitOps approach, here is where you could find all the Kubernetes manifests needed to deploy this app. Couple of features are leveraged here too:</p><ul><li>mTLS STRICT - see <a href=https://github.com/mathieu-benoit/my-kubernetes-deployments/blob/main/namespaces/myblog/myblog/peerauthentication.yaml><code>peerauthentication.yaml</code></a></li><li><code>NetworkPolicies</code> - see <a href=https://github.com/mathieu-benoit/my-kubernetes-deployments/blob/main/namespaces/myblog/myblog/networkpolicies.yaml><code>networkpolicies.yaml</code></a></li><li><a href=https://mathieu-benoit.github.io/posts/2020/04/pod-security-context/><code>Pod Security Context</code></a></li><li><code>AuthorizationPolicies</code> - see <a href=https://github.com/mathieu-benoit/my-kubernetes-deployments/blob/main/namespaces/myblog/myblog/authorizationpolicies.yaml><code>authorizationpolicies.yaml</code></a></li></ul><p>In front of this, an ASM/Istio&rsquo;s <code>IngressGateway</code> is in place, it has <a href=https://github.com/mathieu-benoit/my-kubernetes-deployments/tree/main/namespaces/asm-ingress>its own Kubernetes manifests in its own namespace</a>. Couple of features are leveraged here too:</p><ul><li>mTLS STRICT</li><li>HTTPS with <code>ManagedCertificate</code></li><li><a href=https://mathieu-benoit.github.io/posts/2021/04/cloud-armor/>Cloud Armor for DDOS and WAF protections</a></li></ul><p>I have been learning a lot with this, and still am, that&rsquo;s a continuous learning journey for sure, and that&rsquo;s the goal!</p><p>Hope you like this story and hope you will love this new UI and UX with my new blog! If you have any feedback, comment or issue about this blog, feel free to directly file a new issue
<a href=https://github.com/mathieu-benoit/myblog/issues/new/choose target=_blank>there</a>.</p><p>Cheers!</p></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://mathieu-benoit.github.io/posts/2020/05/performant-aks/><span class=button__icon>←</span>
<span class=button__text>setup a performant aks cluster</span></a></span>
<span class="button next"><a href=https://mathieu-benoit.github.io/posts/2020/04/pod-security-context/><span class=button__text>container security context on kubernetes</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span><span class=logo__text>always up, always on</span>
<span class=logo__cursor></span></a><div class=copyright><span>© 2023 Powered by
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a></span>
<span>Theme created by
<a href=https://twitter.com/panr target=_blank rel=noopener>panr</a></span></div></div></footer><script src=https://mathieu-benoit.github.io/assets/main.js></script>
<script src=https://mathieu-benoit.github.io/assets/prism.js></script></div><script async src="https://www.googletagmanager.com/gtag/js?id=G-J8536XT21V"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-J8536XT21V",{anonymize_ip:!1})}</script></body></html>